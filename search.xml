<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Github + Hexo + Butterfly 搭建博客（四） - Butterfly 主题！</title>
      <link href="/posts/af5eb677.html"/>
      <url>/posts/af5eb677.html</url>
      
        <content type="html"><![CDATA[<h1 id="配置-Hexo"><a href="#配置-Hexo" class="headerlink" title="配置 Hexo"></a>配置 Hexo</h1><p>在安装 <code>Butterfly</code> 主题之前，先配置好 <code>Hexo</code> 。配置文件是 <code>&lt;folder&gt;</code> 下的 <code>_config.yml</code> ，可参考 <a href="https://hexo.io/zh-cn/docs/configuration">官方文档</a> 。</p><div class="table-container"><table><thead><tr><th>Site</th><th>URL</th><th>Writing</th><th>Category &amp; Tag</th><th>Extensions</th><th>Deployment</th></tr></thead><tbody><tr><td><strong>title</strong></td><td><strong>url</strong></td><td>new_post_name</td><td>default_category</td><td><strong>theme</strong></td><td><strong>deploy</strong></td></tr><tr><td><strong>subtitle</strong></td><td>permalink</td><td>default_layout</td><td>category_map</td><td></td><td></td></tr><tr><td><strong>description</strong></td><td>permalink_defaults</td><td><strong>auto_spacing</strong></td><td>tag_map</td><td></td><td></td></tr><tr><td><strong>keywords</strong></td><td></td><td>titlecase</td><td></td><td></td><td></td></tr><tr><td><strong>author</strong></td><td></td><td>external_link</td><td></td><td></td><td></td></tr><tr><td><strong>language</strong></td><td></td><td>filename_case</td><td></td><td></td><td></td></tr><tr><td><strong>timezone</strong></td><td></td><td>render_drafts</td><td></td><td></td><td></td></tr><tr><td></td><td></td><td>post_asset_folder</td><td></td><td></td><td></td></tr><tr><td></td><td></td><td>relative_link</td><td></td><td></td><td></td></tr><tr><td></td><td></td><td>future</td><td></td><td></td><td></td></tr><tr><td></td><td></td><td><strong>syntax_highlighter</strong></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td><strong>highlight</strong></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td><strong>prismjs</strong></td><td></td><td></td></tr></tbody></table></div><h2 id="Site"><a href="#Site" class="headerlink" title="Site"></a>Site</h2><div class="table-container"><table><thead><tr><th style="text-align:center">Setting</th><th style="text-align:center">Description</th></tr></thead><tbody><tr><td style="text-align:center">title</td><td style="text-align:center">您网站的标题</td></tr><tr><td style="text-align:center">subtitle</td><td style="text-align:center">您网站的副标题</td></tr><tr><td style="text-align:center">description</td><td style="text-align:center">您网站的描述</td></tr><tr><td style="text-align:center">keywords</td><td style="text-align:center">您网站的关键字。支持多个值。</td></tr><tr><td style="text-align:center">author</td><td style="text-align:center">你的名字</td></tr><tr><td style="text-align:center">language</td><td style="text-align:center">您网站的语言。</td></tr><tr><td style="text-align:center">timezone</td><td style="text-align:center">您网站的时区。</td></tr></tbody></table></div><p>其中 <code>language</code> 要显示中文的话值为 <code>zh-CN</code> ， <code>timezone</code> 的值必须为 <code>Asia/Shanghai</code>，与 <code>Hexo</code> 时区一致，否则 <code>Hexo</code> 会运行失败。</p><h2 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h2><div class="table-container"><table><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>url</td><td>您网站的 URL，必须以 <code>http://</code> 或 <code>https://</code> 开头。</td></tr></tbody></table></div><h2 id="Extensions"><a href="#Extensions" class="headerlink" title="Extensions"></a>Extensions</h2><div class="table-container"><table><thead><tr><th>Setting</th><th>Description</th></tr></thead><tbody><tr><td>theme</td><td>主题名称。</td></tr></tbody></table></div><h1 id="安装-Butterfly"><a href="#安装-Butterfly" class="headerlink" title="安装 Butterfly"></a>安装 Butterfly</h1><p><code>hexo-theme-butterfly</code> 是基于 <code>hexo-theme-melody</code> 的基础上进行开发的，使用 <code>git</code> 安装。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>如果你没有 <code>pug</code> 以及 <code>stylus</code> 的渲染器，请下载安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><p>修改 Hexo 根目录下的 <code>_config.yml</code> ，把主题改为 <code>butterfly</code> ：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
          <category> Github + Hexo + Butterfly 搭建博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github + Hexo + Butterfly 搭建博客（三） - Hexo 部署！</title>
      <link href="/posts/ca931cb7.html"/>
      <url>/posts/ca931cb7.html</url>
      
        <content type="html"><![CDATA[<h1 id="SSH-Key"><a href="#SSH-Key" class="headerlink" title="SSH Key"></a>SSH Key</h1><p>如果你的 <code>SSH Key</code> 未安装，执行以下命令（ <code>@example.com</code> 是 <code>Github</code> 账户的注册邮箱）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">&quot;@example.com&quot;</span></span><br></pre></td></tr></table></figure><p>执行命令后，<code>ENTER</code> 三次后出现 <code>id_rsa.pub</code> 文件的路径，使用记事本打开 <code>id_rsa.pub</code> 文件并复制其中的内容。</p><h1 id="Github-仓库"><a href="#Github-仓库" class="headerlink" title="Github 仓库"></a>Github 仓库</h1><p>创建名为 <code>x.github.io</code> 的新仓库，<code>X</code> 为 <code>Gxithub</code> 账户名。</p><img src="ca931cb7/01-create-repository.png" class><h1 id="Github-新建-SSH-key"><a href="#Github-新建-SSH-key" class="headerlink" title="Github 新建 SSH key"></a>Github 新建 SSH key</h1><p>打开 <code>Github Settings</code> 中的 <code>SSH and GPG keys</code>，点击新建一个 <code>SSH Key</code> 。</p><img src="ca931cb7/02-new-ssh-key.png" class><p>其中 <code>Title</code> 随意, <code>Key</code> 是 <code>id_rsa.pub</code> 文件的内容。</p><img src="ca931cb7/03-authentication-key.png" class><p>使用以下命令来测试 SSH 连接是否成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>出现以下信息代表成功：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hi X! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure><h1 id="部署-Hexo"><a href="#部署-Hexo" class="headerlink" title="部署 Hexo"></a>部署 Hexo</h1><p>首先确认是否为 <code>master</code> 分支，如果为 <code>main</code> 分支，请在仓库 <code>Setting</code> 更改。</p><img src="ca931cb7/04-master.png" class><p>打开 <code>&lt;folder&gt;</code> 文件夹下的 <code>_config.yml</code> 文件，修改 <code>url</code> 和 <code>deploy</code> ，<code>repo</code> 后填 <code>Code &gt; SSH</code> 的内容。</p><img src="ca931cb7/05-code-ssh.png" class><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://x.github.io</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">&#x27;git&#x27;</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">git@github.com:X/x.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>第一次需要安装 <code>git</code> 部署方式依赖。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>使用如下命令清除缓存文件和已生成的静态文件、重新生成静态文件并启动服务器。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ hexo generate</span><br><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo c</span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure><p>访问 <a href="https://x.github.io/">https://x.github.io/</a> ，如果看到 <a href="http://localhost:4000/">http://localhost:4000/</a> 相同的界面就证明你的部署成功了！</p><img src="ca931cb7/06-github-io.png" class><p>如果访问 <a href="https://x.github.io/">https://x.github.io/</a> 部署或者修改没有生效属于正常现象，因为 <code>Github</code> 将仓库代码文件部署到服务器上需要时间。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean</span><br><span class="line">$ hexo generate</span><br><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>日常撰写文章想要实时看到文章效果的话，使用 <code>hexo serve</code> 。 </p><p><code>hexo clean</code> 、 <code>hexo generate</code> 和 <code>hexo deploy</code> 在修改配置、上传文章中经常使用。</p><p>注意修改配置之后必须要 <code>hexo clean</code> ，上传文章不必要。</p>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
          <category> Github + Hexo + Butterfly 搭建博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github + Hexo + Butterfly 搭建博客（二） - Hexo 启动！</title>
      <link href="/posts/2305a1f0.html"/>
      <url>/posts/2305a1f0.html</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo-概述"><a href="#Hexo-概述" class="headerlink" title="Hexo 概述"></a>Hexo 概述</h1><p><code>Hexo</code> 是一款备受欢迎的博客框架，使用 <a href>Markdown</a>（或其他标记语言）作为内容创作的基础。</p><h1 id="Hexo-安装"><a href="#Hexo-安装" class="headerlink" title="Hexo 安装"></a>Hexo 安装</h1><p>要开始安装 <code>Hexo</code>，你需要先确保你的电脑中安装了下列应用程序：</p><ul><li><code>Node.js</code> ，一个流行的 JavaScript 运行环境，用于服务器端脚本编程。Hexo 依赖于 <code>Node.js</code>，因此你需要先安装它。建议的版本不低于 <code>10.13</code> ，但推荐使用 <code>12.0</code> 或以上版本以获得最佳性能和兼容性。你可以从 <code>Node.js</code> 的 <a href="http://nodejs.org/">官方网站</a> 下载并安装适合你操作系统的版本。</li><li><code>npm</code>（node package manager）是 <code>Node.js</code> 的包管理器，用于 node 插件管理（包括安装、卸载、管理依赖等），需要我们使用 <code>nmp</code> 下载 <code>Hexo</code> 框架。</li><li><code>Git</code> ，一个开源的分布式版本控制系统，用于高效地处理任何或小或大的项目。虽然 Hexo 不直接依赖 Git 来运行，但 Git 对于管理你的博客项目、主题和插件非常有用。你可以从 Git 的 <a href="http://git-scm.com/">官方网站</a> 下载并安装 Git。</li></ul><p>如果你已经安装了以上的应用程序，那么你可以直接开始安装 Hexo 了。如果你还没有安装，请访问对应的官方网站并按照安装指示进行安装。一旦你完成了这些准备工作，你就可以开始使用 Hexo 来搭建你的博客了。</p><p>要查看 <code>node</code> 的版本，你可以在命令行或终端中运行以下命令，我的版本是 <code>v16.15.1</code> 。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ node -v</span><br></pre></td></tr></table></figure><p>要查看 <code>npm</code> 的版本，你可以在命令行或终端中运行以下命令，我的版本是 <code>9.1.2</code> 。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm --version</span><br></pre></td></tr></table></figure><p>要查看 <code>Git</code> 的版本，你可以在命令行或终端中运行以下命令，我的版本是 <code>2.35.1</code> 。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git --version</span><br></pre></td></tr></table></figure><p>所有必备的应用程序安装完成后，即可使用 <code>npm</code> 安装 <code>Hexo</code> 。 </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>要查看 <code>Hexo</code> 的版本，你可以在命令行或终端中运行以下命令，我的版本是 <code>4.3.1</code> 。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo -v</span><br></pre></td></tr></table></figure><h1 id="Hexo-建站"><a href="#Hexo-建站" class="headerlink" title="Hexo 建站"></a>Hexo 建站</h1><p>安装 <code>Hexo</code> 完成后，请执行下列命令，<code>Hexo</code> 将会在指定文件夹 <code>&lt;folder&gt;</code> 中新建所需要的文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init &lt;folder&gt; </span><br><span class="line">$ <span class="built_in">cd</span> &lt;folder&gt; </span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p>新建完成后，指定文件夹 <code>&lt;folder&gt;</code> 的目录如下： </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">. </span><br><span class="line">├── _config.yml </span><br><span class="line">├── package.json </span><br><span class="line">├── scaffolds </span><br><span class="line">├── <span class="built_in">source</span> </span><br><span class="line">|    ├── _drafts </span><br><span class="line">|    └── _posts </span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure><ul><li><code>_config.yml</code> ：是 <code>Hexo</code> 的配置文件，包含网站的大部分配置信息，<strong>这部分可以等到我们配置主题的时候一并修改</strong>，详细见 <a href="https://hexo.io/zh-cn/docs/configuration">官方网站</a> 。</li><li><code>package.json</code> ：这个文件包含了应用程序的元信息，比如应用的名称、版本、依赖项等。对于 Hexo 而言，这个文件还包含了用于启动和构建博客的命令。</li><li><code>scaffolds</code> ：这个文件夹包含了 <code>Hexo</code> 在创建新文章或页面时使用的模板文件。你可以在这个文件夹中修改模板，以自定义新文件的默认内容。当你创建一个新文章时，<code>Hexo</code> 会从 <code>scaffolds/post.md</code> 文件中读取模板内容，并据此创建一个新的 <code>Markdown</code> 文件。</li><li><code>source</code> ：这个文件夹是存放用户资源的地方，包含了博客的所有内容，比如 <code>Markdown</code> 文章、图片、<code>CSS</code> 文件等。</li><li><code>themes</code> ：这个文件夹包含了 Hexo 主题。你可以从 Hexo 的官方主题仓库或其他来源获取主题，并将其放置在 <code>themes</code> 文件夹中。然后，你只需在 <code>_config.yml</code> 文件中指定要使用的主题名称，Hexo 就会根据这个主题来生成你的博客页面。</li></ul><h1 id="Hexo-指令"><a href="#Hexo-指令" class="headerlink" title="Hexo 指令"></a>Hexo 指令</h1><p>在建站的时候，我们使用了 <code>init</code> 指令。除此之外， <code>Hexo</code> 还有许多指令需要我们熟知，详情见<a href="https://hexo.io/zh-cn/docs/commands">官方网站</a>。</p><div class="table-container"><table><thead><tr><th style="text-align:center">instruction</th><th style="text-align:center">command</th><th>description</th><th style="text-align:center">options</th></tr></thead><tbody><tr><td style="text-align:center">init</td><td style="text-align:center">hexo init [folder]</td><td>新建一个网站。如果没有设置 <code>folder</code> ，Hexo 默认在目前的文件夹建立网站。</td><td style="text-align:center">-</td></tr><tr><td style="text-align:center">new</td><td style="text-align:center">hexo new [layout] \<title></title></td><td>新建一篇文章。如果没有设置 <code>layout</code> 的话，默认使用 <code>_config.yml</code> 中的 <code>default_layout</code> 参数。<br>如果标题包含空格的话，像这样 <code>hexo new &quot;post title with whitespace&quot;</code> 使用引号括起来。</td><td style="text-align:center"><code>-p</code><br><code>-r</code><br><code>-s</code></td></tr><tr><td style="text-align:center">generate</td><td style="text-align:center">hexo generate / hexo g</td><td>生成静态文件。</td><td style="text-align:center"><code>-d</code><br><code>-w</code><br><code>b</code><br><code>-f</code><br><code>-c</code></td></tr><tr><td style="text-align:center">publish</td><td style="text-align:center">hexo publish [layout] \<filename></filename></td><td>发表草稿。</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">server</td><td style="text-align:center">hexo server / hexo s</td><td>启动服务器。默认情况下，访问网址为：<code>http://localhost:4000/</code> 。</td><td style="text-align:center"><code>-p</code><br><code>-s</code><br><code>-l</code></td></tr><tr><td style="text-align:center">deploy</td><td style="text-align:center">hexo deploy / hexo d</td><td>部署网站。</td><td style="text-align:center"><code>-g</code></td></tr><tr><td style="text-align:center">render</td><td style="text-align:center">hexo render \<file1> [file2] …</file1></td><td>渲染文件。</td><td style="text-align:center"><code>-o</code></td></tr><tr><td style="text-align:center">migrate</td><td style="text-align:center">hexo migrate \<type></type></td><td>从其他博客系统 <a href="https://hexo.io/zh-cn/docs/migration">迁移内容</a>。</td><td style="text-align:center">-</td></tr><tr><td style="text-align:center">clean</td><td style="text-align:center">hexo clean</td><td>清除缓存文件 (<code>db.json</code>) 和已生成的静态文件 (<code>public</code>)。在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</td><td style="text-align:center">-</td></tr><tr><td style="text-align:center">list</td><td style="text-align:center">hexo list \<type></type></td><td>列出网站数据。</td><td style="text-align:center">-</td></tr><tr><td style="text-align:center">version</td><td style="text-align:center">hexo version</td><td>显示 Hexo 版本。</td><td style="text-align:center">-</td></tr><tr><td style="text-align:center">config</td><td style="text-align:center">hexo config [key] [value]</td><td>列出网站的配置（<code>_config.yml</code>）。如果指定了 <code>key</code>，则只展示配置中对应 <code>key</code> 的值；如果同时指定了 <code>key</code> 和 <code>value</code>，则将配置中对应的 <code>key</code> 的值修改为 <code>value</code>。</td><td style="text-align:center">-</td></tr></tbody></table></div><h1 id="Hexo-启动"><a href="#Hexo-启动" class="headerlink" title="Hexo 启动"></a>Hexo 启动</h1><p>使用如下命令生成静态文件并启动服务器。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><p>访问网址 <code>http://localhost:4000</code> 如果可以看到欢迎界面证明你成功安装并启动了 <code>Hexo</code> ！</p><img src="2305a1f0/01-hexo.png" class>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
          <category> Github + Hexo + Butterfly 搭建博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Github + Hexo + Butterfly 搭建博客（一） - 欢迎！</title>
      <link href="/posts/1f3d8519.html"/>
      <url>/posts/1f3d8519.html</url>
      
        <content type="html"><![CDATA[<p>欢迎来到我的博客搭建系列~</p><p>亲爱的读者，您好！我非常荣幸您能点开这份博客搭建指南，同我一起开启这次有趣的个人博客建设之旅。</p><p>在数字化时代，博客已成为个人表达、知识分享、学习交流的重要平台。通过博客，我们可以将自己的想法、心得、经验分享给全世界，也可以从他人的博客中汲取知识，拓宽视野。</p><p>在接下来的文章中，我将详细阐述如何利用 <code>GitHub</code> 这个强大的代码托管平台，结合 <code>Hexo</code> 框架和 <code>Butterfly</code> 主题，搭建出属于自己的个性化博客。</p><p><a href="https://github.com">GitHub</a> 作为全球最大的代码托管平台，不仅提供了强大的版本控制功能，还提供了丰富的资源和社区支持，使得开发者能够轻松地进行项目协作和代码分享。</p><p><a href="https://hexo.io/zh-cn/">Hexo</a> 则是一款基于 <code>Node.js</code> 的静态博客框架，具有简洁易用、功能丰富、性能优异等特点。</p><p><a href="https://butterfly.js.org/">Butterfly</a> 作为 <code>Hexo</code> 的一个精美主题，以其优雅的界面设计和丰富的功能配置，赢得了广大用户的喜爱。</p><p>在接下来的文章中，我将从环境搭建、 <code>Hexo</code> 安装、主题配置、内容撰写、部署上线等方面，一步步指导您如何搭建一个属于自己的博客网站。无论是技术小白还是资深开发者，只要您有一颗学习的心，都能在这个过程中收获满满。</p><p>让我们一起踏上这次建站之旅吧！相信在不久的将来，您也能拥有一个属于自己的独特博客网站，与世界分享您的精彩故事。</p>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
          <category> Github + Hexo + Butterfly 搭建博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Github </tag>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Obsidian Plugin - Emoji Magic</title>
      <link href="/posts/57578169.html"/>
      <url>/posts/57578169.html</url>
      
        <content type="html"><![CDATA[<p>This plugin lets you add emoji to your Obsidian notes more easiy using an enhanced keyword search.</p><p>It has a large dictionary of keywords so you can find emoji you wouldn’t find otherwise:</p><ul><li>broad terms like “car” -&gt; <code>🚓🚋🚔🏎️🚐🚕🚖</code></li><li>colors like “orange” -&gt; <code>📙🧡🍊🥕🚼</code></li></ul><p>Animated Screenshot:</p><p><img src="https://github.com/SimplGy/obsidian-emoji-magic/raw/main/screenshots/emoji-magic-obsidian-2.gif?raw=true" alt="Gif In Action"></p><p>Still Screenshot:</p><p><img src="https://github.com/SimplGy/obsidian-emoji-magic/raw/main/screenshots/emoji-magic-blue.png?raw=true" alt="Screenshot"></p><h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><ol><li>Secure — local only, no internet</li><li>Rich keyword search — the dictionary contains <code>1,812</code> emoji with <code>199,658</code> searchable keywords and thesaurus entries.</li><li>Fast — just keyboard shortcut and click</li><li>Keyboard friendly — arrow keys, tab, however you want.</li></ol><blockquote><p>Note: This is an <a href="https://obsidian.md/">Obsidian</a>-compatible fork of the <a href="https://github.com/SimplGy/emoji-magic">Emoji Magic</a> Chrome Extension I wrote.</p></blockquote><h2 id="Installing-this-Plugin"><a href="#Installing-this-Plugin" class="headerlink" title="Installing this Plugin"></a>Installing this Plugin</h2><ol><li>Open settings. (if you haven’t yet, one time: Third party plugin -&gt; Disable Safe mode)</li><li>Click “Browse community plugins” -&gt; Search for “Magic File Hotkey”</li><li>Install it, then click “enable”</li><li>Add a hotkey. I like <code>cmd + shift + e</code> (“e” for “emoji”).</li></ol><h2 id="Guiding-Principles"><a href="#Guiding-Principles" class="headerlink" title="Guiding Principles"></a>Guiding Principles</h2><blockquote><p>Goals and Non-goals</p></blockquote><ul><li>Easy find<ul><li>an effort is made to include lots of possible matches</li><li>eg: the color “green” or the feeling “happy”</li></ul></li><li>Keyboard friendly.<ul><li>Eg: <code>keyboard shortcut</code> -&gt; <code>search phrase</code> -&gt; <code>enter</code> and done.</li><li>Because this plugin shows a 2d grid of emoji, built two-dimensional arrow key support for navigating.</li></ul></li><li>Actual emoji. No images.<ul><li>This means: no custom emoji</li><li>Also means: will render platform-appropriate versions. The visual you see can vary depending on where you’re viewing the file</li><li>Also means: you may see empty rectangles for emoji that are defined, but not supported by your device. (eg: 🦩 “flamingo” won’t be there if you’re on an older Mac)</li></ul></li></ul><h2 id="Similar-Obsidian-Plugins"><a href="#Similar-Obsidian-Plugins" class="headerlink" title="Similar Obsidian Plugins"></a>Similar Obsidian Plugins</h2><blockquote><p>AKA: “why did I need to build this?”</p></blockquote><ul><li><a href="https://github.com/phibr0/obsidian-emoji-shortcodes">Emoji Shortcodes</a><ul><li>Excellent plugin, seems to work great, but I like having a popup search panel instead of using the <code>:smile:</code> kind of syntax.</li></ul></li><li><a href="https://github.com/oliveryh/obsidian-emoji-toolbar">Emoji Toolbar</a><ul><li>Currently the most popular “emoji” plugin for Obsidian.</li><li>Uses images instead of the text emoji char itself. That means some emoji can look different in the picker VS when I actually insert them in my file. There is a setting that might be related, but I wasn’t able to get it to work. (Update: appears fixed in <a href="https://github.com/oliveryh/obsidian-emoji-toolbar/releases/tag/0.4.0">v0.4.0</a>).</li><li>Started breaking for me (might be a “live preview” only bug). Would insert emoji at the start of the file instead of where my cursor is. (Update: appears fixed in <a href="https://github.com/oliveryh/obsidian-emoji-toolbar/releases/tag/0.4.0">v0.4.0</a> or earlier).</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> Obsidian </category>
          
          <category> Plugin </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Obsidian Plugin - Douban</title>
      <link href="/posts/ce5ed0d3.html"/>
      <url>/posts/ce5ed0d3.html</url>
      
        <content type="html"><![CDATA[<h1 id="Obsidian-Douban-Plugin"><a href="#Obsidian-Douban-Plugin" class="headerlink" title="Obsidian Douban Plugin"></a>Obsidian Douban Plugin</h1><p>Bring your data from <a href="https://www.douban.com/">Douban</a> to Your <a href="https://obsidian.md/">Obsidian</a>. Including your <em>Movie, Book, Music, Teleplay, Note, Game</em> even your personal state and comment</p><p><img src="https://github.com/Wanxp/obsidian-douban/raw/master/doc/background.png" alt="Background"></p><h1 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h1><ul><li>[x] Sync Personal Movie/TV/Book/Music</li><li>[x] Import Movie/Teleplay/Book/Music/Note/Game</li><li>[x] Personal Comment/State/Rate</li><li>[x] Custom Variables</li></ul><h1 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h1><h2 id="Timelines"><a href="#Timelines" class="headerlink" title="Timelines"></a>Timelines</h2><p>To build a personal viewing Timeline with the Timelines plugin, see <a href="https://github.com/Wanxp/obsidian-douban/raw/master/doc/Obsidian-Douban-TimeLine.md">here</a>.</p><p><img src="https://github.com/Wanxp/obsidian-douban/raw/master/doc/img/obsidian-douban-time-preview-example.gif" alt="Timelines"></p><h2 id="Blue-Topaz"><a href="#Blue-Topaz" class="headerlink" title="Blue Topaz"></a>Blue Topaz</h2><p>Use the Blue Topaz theme to build a douban-like web page effect, see <a href="Obsidian-Douban-BlueTopaz.md">here</a>.</p><p><img src="https://github.com/Wanxp/obsidian-douban/raw/master/doc/background.png" alt="Blue Topaz"></p><h1 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use"></a>How to use</h1><h2 id="Sync"><a href="#Sync" class="headerlink" title="Sync"></a>Sync</h2><p>Sync Data From Douban (to learn how to use the TimeLine plugin to build a reading/movie watching timeline, please refer to <a href="Obsidian-Douban-TimeLine.en.md">here</a>).</p><p><img src="https://github.com/Wanxp/obsidian-douban/raw/master/doc/img/sync_data_from_douban.gif" alt="Sync Data From Douban"></p><h2 id="Search"><a href="#Search" class="headerlink" title="Search"></a>Search</h2><p>Use the following method: Enter <kbd>Ctrl</kbd> + <kbd>P</kbd>, enter “Douban”, select search and use</p><ul><li>Search Data And Create Note  </li><li>Search Data By File Name    </li><li>Search Movie By Input Text       </li></ul><p><img src="https://github.com/Wanxp/obsidian-douban/raw/master/doc/img/sync_data_from_douban.gif" alt="Search Movie By File Name"></p><h2 id="Support-Field"><a href="#Support-Field" class="headerlink" title="Support Field"></a>Support Field</h2><div class="table-container"><table><thead><tr><th>字段</th><th>电影</th><th>电视剧</th><th>书籍</th><th>音乐</th><th>日记</th><th>游戏</th><th>广播</th></tr></thead><tbody><tr><td><code>id</code></td><td>豆瓣ID</td><td>豆瓣ID</td><td>豆瓣ID</td><td>豆瓣ID</td><td>豆瓣ID</td><td>豆瓣ID</td><td>-</td></tr><tr><td><code>title</code></td><td>电影名称</td><td>电视剧名称</td><td>书名</td><td>音乐名</td><td>日记标题</td><td>游戏名称</td><td>-</td></tr><tr><td><code>type</code></td><td>类型</td><td>类型</td><td>类型</td><td>类型</td><td>类型</td><td>类型</td><td>-</td></tr><tr><td><code>score</code></td><td>评分</td><td>评分</td><td>评分</td><td>评分</td><td>评分</td><td>评分</td><td>-</td></tr><tr><td><code>image</code></td><td>封面</td><td>封面</td><td>封面</td><td>封面</td><td>图片</td><td>封面</td><td>-</td></tr><tr><td><code>url</code></td><td>豆瓣网址</td><td>豆瓣网址</td><td>豆瓣网址</td><td>豆瓣网址</td><td>豆瓣网址</td><td>豆瓣网址</td><td>-</td></tr><tr><td><code>desc</code></td><td>简介</td><td>简介</td><td>内容简介</td><td>简介</td><td>简介</td><td>简介</td><td>-</td></tr><tr><td><code>publisher</code></td><td>-</td><td>-</td><td>出版社</td><td>出版者</td><td>发布者</td><td>发行商</td><td>-</td></tr><tr><td>datePublished</td><td>上映日期</td><td>上映日期</td><td>出版年</td><td>发行时间</td><td>发布时间</td><td>发行日期</td><td>-</td></tr><tr><td>yearPublished</td><td>上映年份</td><td>上映年份</td><td>出版年份</td><td>发行年份</td><td>发布年份</td><td>发行年份</td><td>-</td></tr><tr><td>genre</td><td>类型</td><td>类型</td><td>-</td><td>流派</td><td>-</td><td>类型</td><td>-</td></tr><tr><td>currentDate</td><td>今日日期</td><td>今日日期</td><td>今日日期</td><td>今日日期</td><td>今日日期</td><td>今日日期</td><td></td></tr><tr><td>currentTime</td><td>当前时间</td><td>当前时间</td><td>当前时间</td><td>当前时间</td><td>当前时间</td><td>当前时间</td><td></td></tr><tr><td>myTags</td><td>我标记的标签</td><td>我标记的标签</td><td>我标记的标签</td><td>我标记的标签</td><td>-</td><td>我标记的标签</td><td></td></tr><tr><td>myRating</td><td>我的评分</td><td>我的评分</td><td>我的评分</td><td>我的评分</td><td>-</td><td>我的评分</td></tr><tr><td>myState</td><td>状态:想看/在看/看过</td><td>状态:想看/在看/看过</td><td>状态:想看/在看/看过</td><td>状态:想听/在听/听过</td><td>-</td><td>状态:想玩/在玩/玩过</td><td></td></tr><tr><td>myComment</td><td>我的评语</td><td>我的评语</td><td>我的评语</td><td>我的评语</td><td>-</td><td>我的评语</td><td></td></tr><tr><td>myCollectionDate</td><td>我标记的时间</td><td>我标记的时间</td><td>我标记的时间</td><td>我标记的时间</td><td>-</td><td>我标记的时间</td><td></td></tr><tr><td>扩展1</td><td>director:导演</td><td>director:导演</td><td>author:原作者</td><td>actor: 表演者</td><td>author:作者</td><td>aliases:别名</td><td></td></tr><tr><td>扩展2</td><td>author:编剧</td><td>author:编剧</td><td>translator:译者</td><td>albumType:专辑类型</td><td>authorUrl:作者网址</td><td>developer:开发商</td><td></td></tr><tr><td>扩展3</td><td>actor:主演</td><td>actor:主演</td><td>isbn:isbn</td><td>medium:介质</td><td>content:日记内容</td><td>platform:平台</td><td></td></tr><tr><td>扩展4</td><td>originalTitle:原作名</td><td>originalTitle:原作名</td><td>originalTitle:原作名</td><td>records:唱片数</td><td></td><td></td><td></td></tr><tr><td>扩展5</td><td>country:国家</td><td>country:国家</td><td>subTitle:副标题</td><td>barcode:条形码</td><td></td><td></td><td></td></tr><tr><td>扩展6</td><td>language:语言</td><td>language:语言</td><td>totalPage:页数</td><td></td><td></td><td></td><td></td></tr><tr><td>扩展7</td><td>time:片长</td><td>time:片长</td><td>series:丛书</td><td></td><td></td><td></td><td></td></tr><tr><td>扩展8</td><td>aliases:又名</td><td>aliases:又名</td><td>menu:目录</td><td></td><td></td><td></td><td></td></tr><tr><td>扩展9</td><td>IMDb</td><td>IMDb</td><td>price:定价</td><td></td><td></td><td></td><td></td></tr><tr><td>扩展7</td><td></td><td>episode:集数</td><td>binding:装帧</td><td></td><td></td><td></td><td></td></tr><tr><td>扩展8</td><td></td><td></td><td>producer: 出品方</td><td></td><td></td><td></td></tr></tbody></table></div><ul><li>Notice: myTags, myRating, myState, myComment, myCollectionDate. All parameters are available after logging in to the plugin.</li></ul>]]></content>
      
      
      <categories>
          
          <category> Obsidian </category>
          
          <category> Plugin </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Obsidian Plugin - Day Planner</title>
      <link href="/posts/b959e045.html"/>
      <url>/posts/b959e045.html</url>
      
        <content type="html"><![CDATA[<p>Reproduced from <a href="https://github.com/ivan-lednev/obsidian-day-planner/blob/main/README.md">https://github.com/ivan-lednev/obsidian-day-planner/blob/main/README.md</a> 。</p><h1 id="Day-Planner"><a href="#Day-Planner" class="headerlink" title="Day Planner"></a>Day Planner</h1><p><img src="https://raw.githubusercontent.com/ivan-lednev/obsidian-day-planner/main/assets/ical-timeline-demo.png" alt="Timeline"></p><p><img src="https://raw.githubusercontent.com/ivan-lednev/obsidian-day-planner/main/assets/week.png" alt="Week"></p><h1 id="Drag-and-drop-demos"><a href="#Drag-and-drop-demos" class="headerlink" title="Drag-and-drop demos"></a>Drag-and-drop demos</h1><p><img src="https://raw.githubusercontent.com/ivan-lednev/obsidian-day-planner/main/assets/schedule-demo.gif" alt="Adding time to tasks"></p><p><img src="https://raw.githubusercontent.com/ivan-lednev/obsidian-day-planner/main/assets/basic-edit.gif" alt="Basic editing: create, move, resize (click to expand)"></p><h1 id="How-to-use-it"><a href="#How-to-use-it" class="headerlink" title="How to use it"></a>How to use it</h1><blockquote><p>[!Warning]<br>Dataview (community plugin, <a href="obsidian://show-plugin?id=dataview">see in Obsidian</a>) should be installed and enabled for the plugin to work.</p></blockquote><p>To see the sidebar with a timeline, run the following command: <code>Show the day planner timeline</code></p><p>The plugin has 3 distinct ‘modes’. That is, it can display tasks from different sources:</p><ol><li>Daily notes</li><li>Obsidian-tasks</li><li>Online calendars</li></ol><p>Let’s go over each one of them.</p><h2 id="Showing-events-from-your-daily-notes"><a href="#Showing-events-from-your-daily-notes" class="headerlink" title="Showing events from your daily notes"></a>Showing events from your daily notes</h2><blockquote><p>[!Warning]<br>Either the core ‘Daily Notes’ (core plugin) or the ‘Periodic Notes’ (community plugin, <a href="obsidian://show-plugin?id=periodic-notes">see in Obsidian</a>) should be enabled. This is what allows day-planner to ‘see’ and interact with your daily notes.</p></blockquote><p>This is the most straightforward case that works out of the box: you write your tasks in a daily note and they show up on the timeline:</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># Day planner</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> [ ] 10:00 - 10:30 Wake up</span><br><span class="line"><span class="bullet">-</span> [ ] 11:00 - 12:30 Grab a brush and put a little make-up</span><br></pre></td></tr></table></figure><h2 id="Tasks-community-plugin-integration"><a href="#Tasks-community-plugin-integration" class="headerlink" title="Tasks community plugin integration"></a><a href="obsidian://show-plugin?id=obsidian-tasks-plugin">Tasks community plugin</a> integration</h2><p>This mode allows you to see tasks anywhere in the vault with dates added by the <a href="obsidian://show-plugin?id=obsidian-tasks-plugin">tasks community plugin</a>. With this, day-planner serves as a kind of calendar for the <a href="obsidian://show-plugin?id=obsidian-tasks-plugin">tasks plugin</a>.</p><p>To make this work,</p><ol><li>Add a tag like <code>#task</code> or a folder to the Dataview source field. This is how the plugin knows which files it should monitor:<br><img src="dv-source.png" alt></li><li>Add the tag (<code>#task</code> in this example) to the file with some tasks</li><li>Add the <code>scheduled</code> property to a task in one of the formats:<ul><li>Shorthand, added by <a href="obsidian://show-plugin?id=obsidian-tasks-plugin">tasks community plugin</a>: <code>⏳ 2021-08-29</code><ul><li>Note that this plugin has a handy modal for adding these properties</li></ul></li><li>Full Dataview-like property: <code>[scheduled:: 2021-08-29]</code></li><li>Another Dataview format: <code>(scheduled:: 2021-08-29)</code>.</li></ul></li></ol><p>Full examples:</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="section">tags: &quot;#task&quot;</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> [ ] 08:00 - 10:00 This task uses the shorthand format ⏳ 2021-08-29</span><br><span class="line"><span class="bullet">-</span> [ ] 11:00 - 13:00 This task uses the Dataview property format [scheduled:: 2021-08-29]</span><br></pre></td></tr></table></figure><h2 id="Showing-internet-calendars"><a href="#Showing-internet-calendars" class="headerlink" title="Showing internet calendars"></a>Showing internet calendars</h2><p>To show events from internet calendars like <strong>Google Calendar, iCloud Calendar and Outlook</strong> you only need to add an ICS link in the plugin settings.</p><p><img src="ical-settings-demo.png" alt></p><h3 id="Where-to-get-a-Google-Calendar-link"><a href="#Where-to-get-a-Google-Calendar-link" class="headerlink" title="Where to get a Google Calendar link"></a>Where to get a Google Calendar link</h3><p><a href="https://support.google.com/calendar/answer/37648?hl=en#zippy=%2Csync-your-google-calendar-view-edit%2Cget-your-calendar-view-only">Google Calendar instructions</a></p><h3 id="Where-to-get-an-iCloud-link"><a href="#Where-to-get-an-iCloud-link" class="headerlink" title="Where to get an iCloud link"></a>Where to get an iCloud link</h3><p><a href="https://www.souladvisor.com/help-centre/how-to-get-icloud-calendar-address-on-mac-in-ical-format">iCloud Calendar instructions</a></p><h3 id="Where-to-get-an-Outlook-link"><a href="#Where-to-get-an-Outlook-link" class="headerlink" title="Where to get an Outlook link"></a>Where to get an Outlook link</h3><p><a href="https://support.microsoft.com/en-us/office/introduction-to-publishing-internet-calendars-a25e68d6-695a-41c6-a701-103d44ba151d?ui=en-us&amp;rs=en-us&amp;ad=us">Outlook Calendar instructions</a></p><p>Here’s the relevant part:</p><blockquote><p>Under the settings in Outlook <strong>on the web</strong>, go to Calendar &gt; Shared calendars. Choose the calendar you wish to publish and the level of details that you want others to see.</p></blockquote><p>Here’s how the settings look on the web version:<br><img src="https://raw.githubusercontent.com/ivan-lednev/obsidian-day-planner/main/assets/outlook-guide-1.png" alt></p><h3 id="Alternative"><a href="#Alternative" class="headerlink" title="Alternative"></a>Alternative</h3><p>If your organization doesn’t let you share your calendar this way, you might try <a href="https://github.com/ivan-lednev/obsidian-day-planner/issues/395">a different way described in this issue</a>.</p><h1 id="What-else-you-can-do"><a href="#What-else-you-can-do" class="headerlink" title="What else you can do"></a>What else you can do</h1><ul><li>Observe your progress in the status bar</li><li>Use the week view for multi-day planning</li><li>Color tasks based on time</li><li>Click on the timeline to create tasks</li><li>Drag tasks to re-schedule</li><li>Copy tasks</li><li>Move multiple tasks at once</li></ul><h1 id="Commands"><a href="#Commands" class="headerlink" title="Commands"></a>Commands</h1><ul><li>Show the Day Planner Timeline</li><li>Open today’s Day Planner</li><li>Show the Week Planner</li><li>Insert Planner Heading at Cursor</li></ul>]]></content>
      
      
      <categories>
          
          <category> Obsidian </category>
          
          <category> Plugin </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Obsidian Plugin - Dataview</title>
      <link href="/posts/273d75e6.html"/>
      <url>/posts/273d75e6.html</url>
      
        <content type="html"><![CDATA[<p>Reproduced from <a href="https://github.com/blacksmithgu/obsidian-dataview/blob/master/README.md">https://github.com/blacksmithgu/obsidian-dataview/blob/master/README.md</a> 。</p><h1 id="Dataview"><a href="#Dataview" class="headerlink" title="Dataview"></a>Dataview</h1><p>Treat your <a href="https://obsidian.md/">Obsidian Vault</a> as a database which you can query from. Provides a JavaScript API and<br>pipeline-based query language for filtering, sorting, and extracting data from Markdown pages. See the Examples section<br>below for some quick examples, or the full <a href="https://blacksmithgu.github.io/obsidian-dataview/">reference</a> for all the details.</p><h1 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h1><p>Show all games in the game folder, sorted by rating, with some metadata:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```dataview</span></span><br><span class="line"><span class="code">table time-played, length, rating</span></span><br><span class="line"><span class="code">from &quot;games&quot;</span></span><br><span class="line"><span class="code">sort rating desc</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/blacksmithgu/obsidian-dataview/master/docs/docs/assets/game.png" alt="Game Example"></p><hr><p>List games which are MOBAs or CRPGs.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```dataview</span></span><br><span class="line"><span class="code">list from #game/moba or #game/crpg</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/blacksmithgu/obsidian-dataview/master/docs/docs/assets/game-list.png" alt="Game List"></p><hr><p>List all markdown <a href="https://blacksmithgu.github.io/obsidian-dataview/data-annotation/#tasks">tasks</a> in un-completed projects:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```dataview</span></span><br><span class="line"><span class="code">task from #projects/active</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/blacksmithgu/obsidian-dataview/master/docs/docs/assets/project-task.png" alt="Task List"></p><hr><p>Show all files in the <code>books</code> folder that you read in 2021, grouped by genre and sorted by rating:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```dataviewjs</span></span><br><span class="line"><span class="code">for (let group of dv.pages(&quot;#book&quot;).where(p =&gt; p[&quot;time-read&quot;].year == 2021).groupBy(p =&gt; p.genre)) &#123;</span></span><br><span class="line"><span class="code">dv.header(3, group.key);</span></span><br><span class="line"><span class="code">dv.table([&quot;Name&quot;, &quot;Time Read&quot;, &quot;Rating&quot;],</span></span><br><span class="line"><span class="code">group.rows</span></span><br><span class="line"><span class="code">.sort(k =&gt; k.rating, &#x27;desc&#x27;)</span></span><br><span class="line"><span class="code">.map(k =&gt; [k.file.link, k[&quot;time-read&quot;], k.rating]))</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/blacksmithgu/obsidian-dataview/master/docs/docs/assets/books-by-genre.png" alt="Books By Genre"></p><h1 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h1><p>For a full description of all features, instructions, and examples, see the <a href="https://blacksmithgu.github.io/obsidian-dataview/">reference</a>. For a more brief outline, let us examine the two major aspects of Dataview: <em>data</em> and <em>querying</em>.</p><h2 id="Data"><a href="#Data" class="headerlink" title="Data"></a><strong>Data</strong></h2><p>Dataview generates <em>data</em> from your vault by pulling<br>information from <strong>Markdown frontmatter</strong> and <strong>Inline fields</strong>.</p><ul><li>Markdown frontmatter is arbitrary YAML enclosed by <code>---</code> at the top of a markdown document which can store metadata<br>about that document.</li><li>Inline fields are a Dataview feature which allow you to write metadata directly inline in your markdown document via<br><code>Key:: Value</code> syntax.</li></ul><p>Examples of both are shown below:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">alias:</span> <span class="string">&quot;document&quot;</span></span><br><span class="line"><span class="attr">last-reviewed:</span> <span class="number">2021-08-17</span></span><br><span class="line"><span class="attr">thoughts:</span></span><br><span class="line">  <span class="attr">rating:</span> <span class="number">8</span></span><br><span class="line">  <span class="attr">reviewable:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># Markdown Page</span></span><br><span class="line"></span><br><span class="line">Basic Field:: Value</span><br><span class="line"><span class="strong">**Bold Field**</span>:: Nice!</span><br><span class="line">You can also write [field:: inline fields]; multiple [field2:: on the same line].</span><br><span class="line">If you want to hide the (field3:: key), you can do that too.</span><br></pre></td></tr></table></figure><h2 id="Querying"><a href="#Querying" class="headerlink" title="Querying"></a><strong>Querying</strong></h2><p>Once you’ve annotated documents and the like with metadata, you can then query it using any of Dataview’s four query<br>modes:</p><ol><li><p><strong>Dataview Query Language (DQL)</strong>: A pipeline-based, vaguely SQL-looking expression language which can support basic<br>use cases. See the <a href="https://blacksmithgu.github.io/obsidian-dataview/query/queries/">documentation</a> for details.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```dataview</span></span><br><span class="line"><span class="code">TABLE file.name AS &quot;File&quot;, rating AS &quot;Rating&quot; FROM #book</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure></li><li><p><strong>Inline Expressions</strong>: DQL expressions which you can embed directly inside markdown and which will be evaluated in<br>preview mode. See the <a href="https://blacksmithgu.github.io/obsidian-dataview/reference/expressions/">documentation</a> for<br>allowable queries.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">We are on page <span class="code">`= this.file.name`</span>.</span><br></pre></td></tr></table></figure></li><li><p><strong>DataviewJS</strong>: A high-powered JavaScript API which gives full access to the Dataview index and some convenient<br>rendering utilities. Highly recommended if you know JavaScript, since this is far more powerful than the query<br>language. Check the <a href="https://blacksmithgu.github.io/obsidian-dataview/api/intro/">documentation</a> for more details.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="code">```dataviewjs</span></span><br><span class="line"><span class="code">dv.taskList(dv.pages().file.tasks.where(t =&gt; !t.completed));</span></span><br><span class="line"><span class="code">```</span></span><br></pre></td></tr></table></figure></li><li><p><strong>Inline JS Expressions</strong>: The JavaScript equivalent to inline expressions, which allow you to execute arbitrary JS<br>inline:</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">This page was last modified at <span class="code">`$= dv.current().file.mtime`</span>.</span><br></pre></td></tr></table></figure></li></ol><h2 id="JavaScript-Queries"><a href="#JavaScript-Queries" class="headerlink" title="JavaScript Queries"></a>JavaScript Queries</h2><p>JavaScript queries are very powerful, but they run at the same level of access as any other Obsidian plugin. This means they can potentially rewrite, create, or delete files, as well as make network calls. You should generally write JavaScript queries yourself or use scripts that you understand or that come from reputable sources. Regular Dataview queries are sandboxed and cannot make negative changes to your vault (in exchange for being much more limited).</p>]]></content>
      
      
      <categories>
          
          <category> Obsidian </category>
          
          <category> Plugin </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Obsidian Plugin - Contribution Graph</title>
      <link href="/posts/503a4570.html"/>
      <url>/posts/503a4570.html</url>
      
        <content type="html"><![CDATA[<p>Reproduced from <a href="https://github.com/vran-dev/obsidian-contribution-graph/blob/master/README.md">https://github.com/vran-dev/obsidian-contribution-graph/blob/master/README.md</a> 。</p><p><img src="https://raw.githubusercontent.com/vran-dev/obsidian-contribution-graph/master/attachment/d20ba90e31c16a3c4d79cba9298577de.png" alt="Contribution Graph"></p><h1 id="Contribution-Graph"><a href="#Contribution-Graph" class="headerlink" title="Contribution Graph"></a>Contribution Graph</h1><p>Contribution Graph is a plugin for <a href="https://obsidian.md/">obsidian.md</a> which could generate interactive <u>heatmap graphs</u> like GitHub to track your notes, habits, activity, history, and so on.</p><h1 id="Use-cases"><a href="#Use-cases" class="headerlink" title="Use cases"></a>Use cases</h1><ul><li><u>Habit Tracker</u>: Count the number of tasks you complete every day. Different numbers will be marked in different colors.</li><li><u>Note Tracker</u>: Count the number of note you create every day. Different numbers will be marked in different colors.</li><li><u>Review Report</u>: Count your notes or tasks for a certain period of time and generate a heat map for a more intuitive review</li><li>and more…</li></ul><h1 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h1><ul><li>Create empty note, then right-click.</li><li>Select Add Heatmap options.</li><li>Click the <code>save</code> button, and then a heatmap will be created in note.</li></ul><p><img src="https://raw.githubusercontent.com/vran-dev/obsidian-contribution-graph/master/attachment/contribution-graph-create.gif" alt="Quick Start"></p><h1 id="Theme"><a href="#Theme" class="headerlink" title="Theme"></a>Theme</h1><ul><li>Git Style</li></ul><p><img src="https://raw.githubusercontent.com/vran-dev/obsidian-contribution-graph/master/attachment/image-1.png" alt="Git Style"></p><ul><li>Month Track</li></ul><p><img src="https://raw.githubusercontent.com/vran-dev/obsidian-contribution-graph/master/attachment/image-2.png" alt="Month Track"></p><ul><li>Calendar</li></ul><p><img src="https://raw.githubusercontent.com/vran-dev/obsidian-contribution-graph/master/attachment/image.png" alt="Calendar"></p><h1 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h1><ul><li>Diverse views, support week-track(default), month-track, and calendar view.</li><li>Personalized style, you can configure different cell colors and fill cells with emojis.</li><li>Use fixed date range or latest date to generate graph</li><li>Interactive charts, you can customize cell click event, hover to show statistic data</li><li>Simply integrate with DataviewJS, use contribution graph’s api to dynamically render charts </li></ul><p><img src="https://raw.githubusercontent.com/vran-dev/obsidian-contribution-graph/master/attachment/74103317de5336b5283338c56171f268.png" alt="Features"></p><h2 id="How-to-modify-graph"><a href="#How-to-modify-graph" class="headerlink" title="How to modify graph?"></a>How to modify graph?</h2><p>Jut click the edit button at top right corner</p><p><img src="https://raw.githubusercontent.com/vran-dev/obsidian-contribution-graph/master/attachment/contribution-graph-edit.gif" alt="Modify Graph"></p><h2 id="Configurations"><a href="#Configurations" class="headerlink" title="Configurations"></a>Configurations</h2><div class="table-container"><table><thead><tr><th>name</th><th>description</th><th>type</th><th>default</th><th>sample</th><th>required</th></tr></thead><tbody><tr><td>title</td><td>the title of the graph</td><td>string</td><td>Contributions</td><td></td><td>false</td></tr><tr><td>titleStyle</td><td>the style of the title</td><td>object</td><td></td><td></td><td>false</td></tr><tr><td>days</td><td>Maximum number of days for the chart to display (starting from today)</td><td>number</td><td></td><td>365</td><td>true if miss <strong>fromDate</strong> and <strong>toDate</strong></td></tr><tr><td>fromDate</td><td>The start date of the chart</td><td>date, format yyyy-MM-dd</td><td></td><td>2023-01-01</td><td>true if miss <strong>days</strong></td></tr><tr><td>toDate</td><td>The end date of the chart</td><td>date, format yyyy-MM-dd</td><td></td><td>2023-12-31</td><td>true if miss <strong>days</strong></td></tr><tr><td>query</td><td>dataview query syntax, contribution graph will use it to count files</td><td>string</td><td></td><td></td><td>true</td></tr><tr><td>dateField</td><td>Date attributes of files used for data distribution</td><td>string</td><td>file.ctime</td><td>createTime</td><td>false</td></tr><tr><td>startOfWeek</td><td>start of week</td><td>number</td><td>0</td><td></td><td>false</td></tr><tr><td>showCellRuleIndicators</td><td>Control the display and hiding of cell rule indicator elements</td><td>boolean</td><td>true</td><td></td><td>false</td></tr><tr><td>cellStyleRules</td><td>cell style rule</td><td>array</td><td></td><td></td><td>false</td></tr></tbody></table></div><h1 id="More-Usage-Guid"><a href="#More-Usage-Guid" class="headerlink" title="More Usage Guid"></a>More Usage Guid</h1><ul><li><a href="README_ADVANCE.md">API Usage, Integrate with DataviewJS </a></li><li><a href="README_BASE.md">Codeblock Usage</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Obsidian </category>
          
          <category> Plugin </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Obsidian Plugin - Completr</title>
      <link href="/posts/c93314ca.html"/>
      <url>/posts/c93314ca.html</url>
      
        <content type="html"><![CDATA[<p>Reproduced from <a href="https://github.com/tth05/obsidian-completr/blob/master/README.md">https://github.com/tth05/obsidian-completr/blob/master/README.md</a> 。</p><h1 id="Completr"><a href="#Completr" class="headerlink" title="Completr"></a>Completr</h1><p>This plugin provides <u>advanced auto-completion functionality</u> for obsidian. Legacy editor not supported.</p><h1 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h1><ul><li><u>Latex support</u><ul><li>No need to start with a <code>\</code></li><li>Includes all MathJax commands</li><li>Allows <code>\begin...</code> completion for all environments</li><li>Support for inserting snippets with placeholders</li></ul></li><li><u>YAML Front Matter support</u><ul><li>Learns any key with any value and provides completions for them</li></ul></li><li><u>Word list support</u><ul><li>Load files where each line is a word</li><li>Performant, even with very big <a href="#looking-for-word-lists">lists</a></li></ul></li><li><u>Scanning your vault for words</u><ul><li>Scans the current file or your whole vault to find new words which can then be suggested</li></ul></li></ul><h1 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h1><h2 id="Blacklist"><a href="#Blacklist" class="headerlink" title="Blacklist"></a>Blacklist</h2><ul><li>You can <u>blacklist any suggestion</u> by adding it to the <code>.obsidian/plugins/obsidian-completr/blacklisted_suggestions.txt</code><br>file</li><li>Alternatively, you can use the hotkey to blacklist the currently selected suggestion (Default <code>Shift+D</code>)</li></ul><h2 id="LaTeX-commands"><a href="#LaTeX-commands" class="headerlink" title="LaTeX commands"></a>LaTeX commands</h2><ul><li><u>All default LaTeX commands</u> can be found in the <code>.obsidian/plugins/obsidian-completr/latex_commands.json</code> file</li><li>You can add, remove or modify commands by editing this file</li><li>Replacement syntax<ul><li><code>#</code> is a placeholder for snippets</li><li><code>~</code> marks the cursor position to jump to. This cannot be on the same line as a placeholder</li><li><code>\n</code> is a newline</li></ul></li><li>If the file contains incorrect syntax, a notice will pop up and the console will contain a more detailed error message</li></ul><h2 id="Hotkeys"><a href="#Hotkeys" class="headerlink" title="Hotkeys"></a>Hotkeys</h2><ul><li>All hotkeys are changeable from the hotkeys settings page</li><li>The “bypass” hotkeys are useful to run actions which pretend that the popup isn’t open.<ul><li>If for example your insertion key is <code>Enter</code>, you couldn’t press enter to go to the next line while the popup is<br>open. This is where you could use the bypass key.</li><li>This also allows for other modifiers to be used, for example pressing <code>Tab</code> might require holding <code>Shift</code> to move<br>backwards. Only modifiers which are not used in the bypass keybinding will be forwarded.</li><li>Note: The default bypass hotkeys might be shadowed by a built-in command. Check your keybindings if they don’t<br>work.</li></ul></li><li>If you want to change a hotkey without using any modifier, you need to use a workaround which can be<br>found <a href="https://forum.obsidian.md/t/be-able-of-using-the-function-keys-f1-f12-to-perform-functions/15748/7">here</a><br>or <a href="https://forum.obsidian.md/t/function-keys-cant-be-bound-as-hotkeys-without-modifiers/26956/4">here</a>, as Obsidian<br>currently does not support this.</li></ul><h1 id="Example-usage-✨"><a href="#Example-usage-✨" class="headerlink" title="Example usage ✨"></a>Example usage ✨</h1><h2 id="Latex-snippets"><a href="#Latex-snippets" class="headerlink" title="Latex snippets"></a>Latex snippets</h2><p><img src="https://user-images.githubusercontent.com/36999320/146680089-57390cd7-e3c3-418c-9c55-9536259bb956.gif" alt="Latex"></p><h2 id="YAML-Front-Matter"><a href="#YAML-Front-Matter" class="headerlink" title="YAML Front Matter"></a>YAML Front Matter</h2><p><img src="https://user-images.githubusercontent.com/36999320/148700639-6cb48631-0b2f-45b8-b48a-40357425e8bf.gif" alt="Front matter"></p><h2 id="File-scanning"><a href="#File-scanning" class="headerlink" title="File scanning"></a>File scanning</h2><p><img src="https://user-images.githubusercontent.com/36999320/146680134-33d8393b-956a-4028-ab2f-62526f76984d.gif" alt="File scanner"></p><h2 id="Two-million-german-words-loaded"><a href="#Two-million-german-words-loaded" class="headerlink" title="Two million german words loaded"></a>Two million german words loaded</h2><p><img src="https://user-images.githubusercontent.com/36999320/146680359-ae572473-8919-4927-a6f5-bc39800a5c23.gif" alt="Word list"></p><h1 id="Looking-for-word-lists"><a href="#Looking-for-word-lists" class="headerlink" title="Looking for word lists?"></a>Looking for word lists?</h1><ul><li><a href="https://sourceforge.net/projects/germandict/">https://sourceforge.net/projects/germandict/</a></li><li><a href="https://github.com/kpym/FrequencyDictionaries">https://github.com/kpym/FrequencyDictionaries</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Obsidian </category>
          
          <category> Plugin </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Obsidian Plugin - Calendar</title>
      <link href="/posts/895b72f0.html"/>
      <url>/posts/895b72f0.html</url>
      
        <content type="html"><![CDATA[<p>更多信息在 <a href="https://github.com/liamcain/obsidian-calendar-plugin/blob/master/README.md">https://github.com/liamcain/obsidian-calendar-plugin/blob/master/README.md</a> 。</p><p>该插件创建了一个简单的日历视图，用于在日常笔记之间可视化和导航。</p><img src="895b72f0/02-calendar.png" class><p>在设置菜单中启用插件之后，您应该会看到日历视图出现在右侧工具条中。该插件读取您的每日笔记设置，以了解您的日期格式，您的每日笔记模板的位置，以及它创建的新的每日笔记的位置。</p><img src="895b72f0/01-configuration.png" class><ul><li><p>Start week on [default: locale]: 将 Calendar 视图配置为将星期日或星期一显示为一周的第一天。选择 locale 会将开始日期设置为所选区域设置的默认值（设置 &gt; 关于 &gt; 语言）。</p></li><li><p>Words per Dot [default: 250]: 从 1.3 版本开始，点反映文件的单词计数。默认情况下，每个点代表 250 个单词，您可以将该值更改为任何您想要的。将此设置为 0 可完全禁用单词计数。注意: 最多有 5 个点，所以视图不会变得太大！</p></li><li><p>Confirm before creating new note [default: on]: 如果你不喜欢在创建新的每日便笺之前有一个模态提示，你可以关闭它。</p></li><li><p>Show Week Number [default: off]: 启用此选项可以在日历视图中添加一个新列，显示 Week Number。点击这些单元格将打开你的每周笔记。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> Obsidian </category>
          
          <category> Plugin </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOS 7 的下载、安装和配置</title>
      <link href="/posts/c3d776b1.html"/>
      <url>/posts/c3d776b1.html</url>
      
        <content type="html"><![CDATA[<p>参考自 <a href="https://blog.csdn.net/m0_51545690/article/details/123238360">超详细的 CentOS7 的下载安装配置教程 | 秃头披风侠. | CSDN</a> 。</p><h1 id="映像下载"><a href="#映像下载" class="headerlink" title="映像下载"></a>映像下载</h1><p>首先进入 CentOS 的<a href="https://mirrors.bupt.edu.cn/centos/7.9.2009/isos/x86_64/">镜像下载站</a>，然后下载标准版。</p><img src="c3d776b1/01-centos7-mirrors.png" class><p>下载完毕，记住 iso 文件所在位置。</p><h1 id="虚拟机创建"><a href="#虚拟机创建" class="headerlink" title="虚拟机创建"></a>虚拟机创建</h1><p>打开 VMware Workstation，然后点击 <mark class="hl-label blue">创建虚拟机</mark>  。</p><p>选择 <mark class="hl-label blue">自定义(高级)(C)</mark>  ，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/02-create-vm.png" class><p>默认，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/03-hardware-function.png" class><p>选择 <mark class="hl-label blue">稍候安装操作系统(S)</mark>  ，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/04-install-os.png" class><p>选择 <mark class="hl-label blue">Linux(L)</mark>  ，选择 <mark class="hl-label blue">CentOS7</mark>  ，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/05-choose-os.png" class><p>设置 <mark class="hl-label blue">虚拟机名称(V)</mark>   ，选择 <mark class="hl-label blue">位置(L)</mark>   ，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/06-name-and-location.png" class><p>选择 <mark class="hl-label blue">指定处理器数量</mark>   ，数量越多，性能越好，根据需要分配。然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/07-cpu-core.png" class><p>根据需要 <mark class="hl-label blue">分配内存</mark>   ，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/08-memory.png" class><p>网络连接选择 <mark class="hl-label blue">NAT</mark> ，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/09-network.png" class><p>默认，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/10-SCSI.png" class><p>默认，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/11-disk.png" class><p>选择 <mark class="hl-label blue">创建新虚拟硬盘</mark>  ，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/12-create-new-disk.png" class><p>指定 <mark class="hl-label blue">磁盘容量</mark>  ，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/13-max-disk.png" class><p>指定 <mark class="hl-label blue">磁盘文件存储</mark>  ，然后点击 <mark class="hl-label blue">下一步(N)</mark>  。</p><img src="c3d776b1/14-disk-location.png" class><p>点击 <mark class="hl-label blue">完成</mark>   。</p><img src="c3d776b1/15-complete.png" class><h1 id="安装和配置"><a href="#安装和配置" class="headerlink" title="安装和配置"></a>安装和配置</h1><p>点击 <mark class="hl-label blue">编辑虚拟机设置</mark>   。</p><img src="c3d776b1/16-edit-setting.png" class><p>点击 <mark class="hl-label blue">硬件</mark>   下的 <mark class="hl-label blue">CD/DVD</mark>   ，选择 <mark class="hl-label blue">使用ISO映像文件</mark>   。</p><img src="c3d776b1/17-choose-iso.png" class><p>点击 <mark class="hl-label blue">开启此虚拟机</mark>   ，选择 <mark class="hl-label blue">Install-CentOS-7</mark>  ，然后 <mark class="hl-label blue">ENTER</mark>   。</p><img src="c3d776b1/18-start-vm.png" class><h2 id="语言"><a href="#语言" class="headerlink" title="语言"></a>语言</h2><p>选择语言为 <mark class="hl-label blue">英文</mark>   ，然后点击 <mark class="hl-label blue">继续</mark>   。</p><img src="c3d776b1/19-chinese.png" class><h2 id="软件安装"><a href="#软件安装" class="headerlink" title="软件安装"></a>软件安装</h2><p>点击 <mark class="hl-label blue">软件选择</mark>   。</p><img src="c3d776b1/20-software.png" class><p>选择 <mark class="hl-label blue">GNOME桌面</mark>  ，附加选项勾选 <mark class="hl-label blue">GNOME应用程序</mark>   , <mark class="hl-label blue">传统XWindows系统的兼容性</mark>   和 <mark class="hl-label blue">开发工具</mark>   ，然后点击 <mark class="hl-label blue">完成</mark>   。</p><img src="c3d776b1/21-desk.png" class><h2 id="安装位置"><a href="#安装位置" class="headerlink" title="安装位置"></a>安装位置</h2><p>点击 <mark class="hl-label blue">安装位置</mark>   。</p><img src="c3d776b1/22-install-location.png" class><p>选择 <mark class="hl-label blue">我要配置分区</mark>   ，然后点击 <mark class="hl-label blue">完成</mark>   。</p><img src="c3d776b1/23-configuration-sector.png" class><p>设置 <mark class="hl-label blue">/boot</mark>   ，点击 <mark class="hl-label blue">+</mark>   添加挂载点，挂载点选择 <mark class="hl-label blue">/boot</mark>   ，期待容量设为 <mark class="hl-label blue">1024</mark>   。</p><img src="c3d776b1/24-choose-boot.png" class><p>设置 <mark class="hl-label blue">/swap</mark>   ，点击 <mark class="hl-label blue">+</mark>   添加挂载点，挂载点选择 <mark class="hl-label blue">/swap</mark>   ，期待容量设为 <mark class="hl-label blue">2048</mark>   。</p><img src="c3d776b1/25-choose-swap.png" class><p>设置 <mark class="hl-label blue">/</mark>   ，点击 <mark class="hl-label blue">+</mark>   添加挂载点，挂载点选择 <mark class="hl-label blue">/</mark>   ，期待容量设为 <mark class="hl-label blue">17408</mark>   。</p><img src="c3d776b1/26-choose-root.png" class><p>点击 <mark class="hl-label blue">完成</mark>   ，点击 <mark class="hl-label blue">接收更改</mark>   。</p><img src="c3d776b1/27-accept-alter.png" class><h2 id="网络和主机名"><a href="#网络和主机名" class="headerlink" title="网络和主机名"></a>网络和主机名</h2><p>点击 <mark class="hl-label blue">网络和主机名</mark>   。</p><img src="c3d776b1/28-network.png" class><mark class="hl-label blue">打开</mark>   以太网，设置 <mark class="hl-label blue">主机名</mark>   ，点击 <mark class="hl-label blue">应用</mark>   。<img src="c3d776b1/29-set-network.png" class><p>点击 <mark class="hl-label blue">开始安装</mark>   。</p><img src="c3d776b1/30-install.png" class><h2 id="ROOT-密码"><a href="#ROOT-密码" class="headerlink" title="ROOT 密码"></a>ROOT 密码</h2><p>点击 <mark class="hl-label blue">ROOT密码</mark>   。</p><img src="c3d776b1/31-password.png" class><p>设置 <mark class="hl-label blue">Root密码</mark>   以及 <mark class="hl-label blue">确认密码</mark>   ，点击 <mark class="hl-label blue">完成</mark>   。</p><img src="c3d776b1/32-set-password.png" class><h2 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h2><p>点击 <mark class="hl-label blue">创建用户</mark>   。</p><img src="c3d776b1/33-user.png" class><p>设置 <mark class="hl-label blue">用户名</mark>   以及 <mark class="hl-label blue">密码</mark>   ，点击 <mark class="hl-label blue">完成</mark>   。</p><img src="c3d776b1/34-set-user.png" class><h2 id="安装重启"><a href="#安装重启" class="headerlink" title="安装重启"></a>安装重启</h2><p>熬过漫长的等待。</p><img src="c3d776b1/35-wait.png" class><p>安装完成后，点击 <mark class="hl-label blue">重启</mark>   。</p><img src="c3d776b1/36-reboot.png" class><h2 id="接收许可"><a href="#接收许可" class="headerlink" title="接收许可"></a>接收许可</h2><p>点击 <mark class="hl-label blue">LICENSE-INFORMATION</mark>   。</p><img src="c3d776b1/37-license.png" class><p>接受许可，点击 <mark class="hl-label blue">完成</mark>   后，点击 <mark class="hl-label blue">完成配置</mark>   。</p><img src="c3d776b1/38-complete.png" class><h2 id="登录账户"><a href="#登录账户" class="headerlink" title="登录账户"></a>登录账户</h2><p>点击 <mark class="hl-label blue">未列出</mark>   ，使用 root 登录。</p><img src="c3d776b1/39-root-login.png" class><p>输入 <mark class="hl-label blue">用户名</mark>   和 <mark class="hl-label blue">密码</mark>   完成登录。</p><img src="c3d776b1/40-username.png" class><img src="c3d776b1/41-password.png" class><h2 id="欢迎"><a href="#欢迎" class="headerlink" title="欢迎"></a>欢迎</h2><p>出现桌面，欢迎、输入页选择 <mark class="hl-label blue">英文</mark>   。</p><img src="c3d776b1/42-chinese.png" class><img src="c3d776b1/43-input.png" class><p>隐私页 <mark class="hl-label blue">关闭</mark>  位置服务。</p><img src="c3d776b1/44-location.png" class><p>跳过在线帐号页。</p><img src="c3d776b1/45-skip.png" class><p>至此，CentOS-7 下载、安装和配置完毕！</p><img src="c3d776b1/46-start.png" class><img src="c3d776b1/47-centos-7.png" class>]]></content>
      
      
      <categories>
          
          <category> Virtual Machine </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CentOS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>基于 Docker 构建 Prometheus + Grafana 监控集群系统</title>
      <link href="/posts/8baabe2b.html"/>
      <url>/posts/8baabe2b.html</url>
      
        <content type="html"><![CDATA[<h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><div class="table-container"><table><thead><tr><th style="text-align:center">VM</th><th style="text-align:center">Environment</th><th style="text-align:center">IP</th><th style="text-align:center">Service</th></tr></thead><tbody><tr><td style="text-align:center">server</td><td style="text-align:center">docker</td><td style="text-align:center">192.168.45.133</td><td style="text-align:center">Prometheus Server, Node Exporter, cAdvisor, Grafana</td></tr><tr><td style="text-align:center">client</td><td style="text-align:center">docker</td><td style="text-align:center">192.168.45.132</td><td style="text-align:center">Node Exporter、cAdvisor</td></tr><tr><td style="text-align:center">nginx</td><td style="text-align:center">nginx</td><td style="text-align:center">192.168.45.134</td><td style="text-align:center">/</td></tr></tbody></table></div><h1 id="部署-node-exporter"><a href="#部署-node-exporter" class="headerlink" title="部署 node_exporter"></a>部署 node_exporter</h1><blockquote><p>server、client.</p></blockquote><h2 id="server"><a href="#server" class="headerlink" title="server"></a>server</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull prom/node-exporter</span><br><span class="line">docker run --name=node-exporter -p 9100:9100 -itd prom/node-exporter</span><br></pre></td></tr></table></figure><img src="8baabe2b/01-node.png" class><p>访问：<a href="http://192.168.45.133:9100">http://192.168.45.133:9100</a> 查看节点信息。</p><img src="8baabe2b/02-view.png" class><h2 id="client"><a href="#client" class="headerlink" title="client"></a>client</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull prom/node-exporter</span><br><span class="line">docker run --name=node-exporter -p 9100:9100 -itd prom/node-exporter</span><br></pre></td></tr></table></figure><img src="8baabe2b/03-node.png" class><p>访问：<a href="http://192.168.45.132:9100">http://192.168.45.132:9100</a> 查看节点信息。</p><img src="8baabe2b/04-view.png" class><h1 id="安装-prometheus"><a href="#安装-prometheus" class="headerlink" title="安装 prometheus"></a>安装 prometheus</h1><blockquote><p>server.</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p /server/docker/prometheus/&#123;server,client&#125;</span><br><span class="line"><span class="built_in">touch</span> /server/docker/prometheus/server/rules.yml</span><br></pre></td></tr></table></figure><img src="8baabe2b/05-add.png" class><p>编辑 prometheus.yml 文件，添加客户端信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /server/docker/prometheus/server/prometheus.yml</span><br></pre></td></tr></table></figure><img src="8baabe2b/05-add.png" class><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">global:</span><br><span class="line">  scrape_interval:</span><br><span class="line">  external_labels:</span><br><span class="line">    monitor: <span class="string">&#x27;codelab-monitor&#x27;</span></span><br><span class="line">scrape_configs:</span><br><span class="line">  - job_name: <span class="string">&#x27;prometheus&#x27;</span></span><br><span class="line">    scrape_interval: 5s</span><br><span class="line">    static_configs:</span><br><span class="line">      - targets: [<span class="string">&#x27;localhost:9090&#x27;</span>,<span class="string">&#x27;192.168.45.133:9100&#x27;</span>]</span><br><span class="line">  - job_name: <span class="string">&#x27;client-node1&#x27;</span></span><br><span class="line">    static_configs:</span><br><span class="line">      - targets: [<span class="string">&#x27;192.168.45.132:9100&#x27;</span>]</span><br></pre></td></tr></table></figure><img src="8baabe2b/06-vim.png" class><p>docker 启动 prometheus：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull prom/prometheus</span><br></pre></td></tr></table></figure><img src="8baabe2b/07-start.png" class><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run --name prometheus -p 9090:9090 \</span><br><span class="line">-v /server/docker/prometheus/server/prometheus.yml:/etc/prometheus/prometheus.yml \</span><br><span class="line">-v /server/docker/prometheus/server/rules.yml:/etc/prometheus/rules.yml \</span><br><span class="line">-itd prom/prometheus \</span><br><span class="line">--config.file=/etc/prometheus/prometheus.yml \</span><br><span class="line">--web.enable-lifecycle</span><br></pre></td></tr></table></figure><img src="8baabe2b/08-run.png" class><p>注：启动时加入 <code>--web.enable-lifecycle</code> 启用远程热加载配置文件，<code>--config.file</code> 启动时加载配置文件。</p><p>访问 <a href="http://192.168.45.133:9090">http://192.168.45.133:9090</a> 显示 Prometheus 。</p><img src="8baabe2b/09-view.png" class><h1 id="安装-Grafana"><a href="#安装-Grafana" class="headerlink" title="安装 Grafana"></a>安装 Grafana</h1><blockquote><p>server.</p></blockquote><h2 id="先启动测试-grafana"><a href="#先启动测试-grafana" class="headerlink" title="先启动测试 grafana"></a>先启动测试 grafana</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull grafana/grafana</span><br></pre></td></tr></table></figure><img src="8baabe2b/10-pull.png" class><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name=grafana -p 3000:3000 -itd grafana/grafana</span><br></pre></td></tr></table></figure><img src="8baabe2b/11-run.png" class><p>将配置文件复制到宿主机：</p><p>docker exec -it 96f51e2d555b /bin/bash </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">cp</span> grafana:/etc/grafana/grafana.ini /server/docker/prometheus/grafana/ </span><br><span class="line">docker <span class="built_in">rm</span> -f grafana </span><br></pre></td></tr></table></figure><p>修改配置文件 grafana.ini，配置 smtp 邮件报警信息。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /server/docker/prometheus/grafana/grafana.ini</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">enabled = <span class="literal">true</span></span><br><span class="line">host = smtp.qq.com:465</span><br><span class="line">user = camellia24@qq.com</span><br><span class="line"><span class="comment"># If the password contains # or ; you ...</span></span><br><span class="line">password = dygawislbduqbehe</span><br><span class="line">;cert_file =</span><br><span class="line">;key_file =</span><br><span class="line">;skip_verify = <span class="literal">false</span></span><br><span class="line">from_address = camellia24@qq.com</span><br><span class="line">;from_name = Grafana</span><br></pre></td></tr></table></figure><p>根据实际添加上面这几条，<code>host</code> 、 <code>password</code> 可以登录邮箱查看。</p><h2 id="正式启动-grafana"><a href="#正式启动-grafana" class="headerlink" title="正式启动 grafana"></a>正式启动 grafana</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 3000:3000 --name grafana \</span><br><span class="line">-v /server/docker/prometheus/grafana/grafana.ini:/etc/grafana/grafana.ini \</span><br><span class="line">-v /server/docker/prometheus/grafana/data:/var/lib/grafana \</span><br><span class="line">-e <span class="string">&quot;GF_SECURITY_ADMIN_PASSWORD=grafana123&quot;</span> \</span><br><span class="line">-itd grafana/grafana</span><br></pre></td></tr></table></figure><p>注：<code>-e &quot;GF_SECURITY_ADMIN_PASSWORD=grafana123&quot;</code> 是设置 grafana 登陆页面的密码，如不添加这条，默认账号密码为 admin/admin。</p><p>访问 <a href="http://192.168.45.133:3000">http://192.168.45.133:3000</a> ，账号密码为：admin/grafana123。</p><h2 id="nginx-实现域名访问-grafana"><a href="#nginx-实现域名访问-grafana" class="headerlink" title="nginx 实现域名访问 grafana"></a>nginx 实现域名访问 grafana</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    server_name grafana.aa.com;</span><br><span class="line">    listen 80;</span><br><span class="line">     </span><br><span class="line">    location / &#123;</span><br><span class="line">        proxy_pass http://192.168.45.133:3000;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>访问 <a href="http://grafana.aa.com">http://grafana.aa.com</a> 。</p><h2 id="添加-prometheus-数据源"><a href="#添加-prometheus-数据源" class="headerlink" title="添加 prometheus 数据源"></a>添加 prometheus 数据源</h2><p>COMPLETE &gt; Add your first data source &gt; Settings .</p><div class="table-container"><table><thead><tr><th>Key</th><th>Value</th></tr></thead><tbody><tr><td>Name</td><td>Prometheus</td></tr><tr><td>URL</td><td><a href="http://192.168.45.133:9090">http://192.168.45.133:9090</a></td></tr></tbody></table></div><h2 id="添加模板文件（监控主机信息）"><a href="#添加模板文件（监控主机信息）" class="headerlink" title="添加模板文件（监控主机信息）"></a>添加模板文件（监控主机信息）</h2><p>参考 <a href="https://www.jianshu.com/p/367d52fe1171">grafana 常用监控模板大全</a> 和 <a href="https://grafana.com/grafana/dashboards/">grafana 官网模板</a> 。根据需求下载网址中的模板，下载到本地后，导入到 grafana：</p><p>MENU &gt; Manage &gt; Import &gt; Upload JSON file &gt; 输入 URL &gt; Load .</p><p>也可以根据官网的模板 ID 号下载：</p><p>MENU &gt; Manage &gt; Import &gt; Import via grafana.com &gt; 输入 ID &gt; Load .</p><p>Options &gt; prometheus &gt; Prometheus &gt; Import.</p><h1 id="安装-cAdvisor"><a href="#安装-cAdvisor" class="headerlink" title="安装 cAdvisor"></a>安装 cAdvisor</h1><blockquote><p>server、client.</p></blockquote><h2 id="docker-安装-cAdvisor"><a href="#docker-安装-cAdvisor" class="headerlink" title="docker 安装 cAdvisor"></a>docker 安装 cAdvisor</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull google/cadvisor</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">docker run -p 8088:8080 --name cadvisor \</span><br><span class="line">-v /:/rootfs:ro \</span><br><span class="line">-v /var/run:/var/run:rw \</span><br><span class="line">-v /sys:/sys:ro \</span><br><span class="line">-v /var/lib/docker/:/var/lib/docker:ro \</span><br><span class="line">-itd google/cadvisor:latest</span><br></pre></td></tr></table></figure><p>将 ip、端口加入到 prometheus.yml 文件，重启 prometheus 服务。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">global:</span><br><span class="line">  scrape_interval:</span><br><span class="line">  external_labels:</span><br><span class="line">    monitor: <span class="string">&#x27;codelab-monitor&#x27;</span></span><br><span class="line">scrape_configs:</span><br><span class="line">  - job_name: <span class="string">&#x27;prometheus&#x27;</span></span><br><span class="line">    scrape_interval: 5s</span><br><span class="line">    static_configs:</span><br><span class="line">      - targets: [<span class="string">&#x27;localhost:9090&#x27;</span>,<span class="string">&#x27;192.168.45.133:9100&#x27;</span>,<span class="string">&#x27;192.168.45.133:8088&#x27;</span>]</span><br><span class="line">  - job_name: <span class="string">&#x27;client-node1&#x27;</span></span><br><span class="line">    static_configs:</span><br><span class="line">      - targets: [<span class="string">&#x27;192.168.45.132:9100&#x27;</span>,<span class="string">&#x27;192.168.45.132:8088&#x27;</span>]</span><br></pre></td></tr></table></figure><p>重启 prometheus 让配置生效</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart prometheus</span><br></pre></td></tr></table></figure><h2 id="添加模板，监控-docker-容器"><a href="#添加模板，监控-docker-容器" class="headerlink" title="添加模板，监控 docker 容器"></a>添加模板，监控 docker 容器</h2><p>自行选择模板。</p><h1 id="安装-blackbox-exporter-监控端口"><a href="#安装-blackbox-exporter-监控端口" class="headerlink" title="安装 blackbox_exporter 监控端口"></a>安装 blackbox_exporter 监控端口</h1><blockquote><p>server.</p></blockquote><h2 id="docker-安装-blackbox-exporter"><a href="#docker-安装-blackbox-exporter" class="headerlink" title="docker 安装 blackbox_exporter"></a>docker 安装 blackbox_exporter</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull prom/blackbox-exporter</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name blackbox -p 9115:9115-itd prom/blackbox-exporter</span><br></pre></td></tr></table></figure><p>在 prometheus.yml 文件添加监控配置：</p><blockquote><p>注意：格式不对， prometheus 会报错。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">  - job_name: <span class="string">&#x27;prometheus_port_status&#x27;</span></span><br><span class="line">    metrics_path: /probe</span><br><span class="line">    params:</span><br><span class="line">      module: [tcp_connect]</span><br><span class="line">    static_configs:</span><br><span class="line">      - targets: [<span class="string">&#x27;192.168.1.20:8088&#x27;</span>,<span class="string">&#x27;192.168.1.20:9100&#x27;</span>,<span class="string">&#x27;192.168.1.20:8091&#x27;</span>,<span class="string">&#x27;192.168.45.132:8088&#x27;</span>,<span class="string">&#x27;192.168.45.132:9100&#x27;</span>,<span class="string">&#x27;192.168.45.132:8091&#x27;</span>]</span><br><span class="line">        labels:</span><br><span class="line">          instance: <span class="string">&#x27;port_status&#x27;</span></span><br><span class="line">          group: <span class="string">&#x27;tcp&#x27;</span></span><br><span class="line">    relabel_configs:</span><br><span class="line">      - source_labels: [__address__]</span><br><span class="line">        target_label: __param_target</span><br><span class="line">      - source_labels: [__param_target]</span><br><span class="line">        target_label: instance</span><br><span class="line">      - target_label: __address__</span><br><span class="line">        replacement: 192.168.1.20:9115</span><br><span class="line">  - job_name: <span class="string">&#x27;node_status&#x27;</span></span><br><span class="line">    metrics_path: /probe</span><br><span class="line">    params:</span><br><span class="line">      module: [icmp]</span><br><span class="line">    static_configs:</span><br><span class="line">      - targets: [<span class="string">&#x27;192.168.1.20&#x27;</span>,<span class="string">&#x27;192.168.45.132&#x27;</span>]</span><br><span class="line">        labels:</span><br><span class="line">          instance: <span class="string">&#x27;node_status&#x27;</span></span><br><span class="line">          group: <span class="string">&#x27;node&#x27;</span></span><br><span class="line">    relabel_configs:</span><br><span class="line">      - source_labels: [__address__]</span><br><span class="line">        target_label: __param_target</span><br><span class="line">      - target_label: __address__</span><br><span class="line">        replacement: 192.168.1.20:9115</span><br><span class="line">  - job_name: <span class="string">&#x27;web_status&#x27;</span></span><br><span class="line">    metrics_path: /probe</span><br><span class="line">    params:</span><br><span class="line">      module: [http_2xx]</span><br><span class="line">    static_configs:</span><br><span class="line">      - targets: [<span class="string">&#x27;https://www.baidu.com&#x27;</span>]</span><br><span class="line">        labels:</span><br><span class="line">          instance: <span class="string">&#x27;web_status&#x27;</span></span><br><span class="line">          group: <span class="string">&#x27;web&#x27;</span></span><br><span class="line">    relabel_configs:</span><br><span class="line">      - source_labels: [__address__]</span><br><span class="line">        target_label: __param_target</span><br><span class="line">      - target_label: __address__</span><br><span class="line">        replacement: 192.168.1.20:9115</span><br></pre></td></tr></table></figure><p>blackbox-exporter 在 grafana 页面展示需要安装 grafana-piechart-panel 插件。</p><p>下载完后，上传到 /server/docker/prometheus/grafana/data/plugins 。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker restart grafana</span><br><span class="line">docker <span class="built_in">exec</span> -it grafana grafana-cli plugins install grafana-piechart-panel</span><br><span class="line">docker restart grafana</span><br></pre></td></tr></table></figure><h2 id="在-grafana-面板添加模板"><a href="#在-grafana-面板添加模板" class="headerlink" title="在 grafana 面板添加模板"></a>在 grafana 面板添加模板</h2><p>略。</p><h1 id="Alert-警报"><a href="#Alert-警报" class="headerlink" title="Alert 警报"></a>Alert 警报</h1><h2 id="AlertManager-告警"><a href="#AlertManager-告警" class="headerlink" title="AlertManager 告警"></a>AlertManager 告警</h2><p>略。</p><h2 id="Grafana-自带-alert-告警"><a href="#Grafana-自带-alert-告警" class="headerlink" title="Grafana 自带 alert 告警"></a>Grafana 自带 alert 告警</h2><p>略。</p><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://www.cnblogs.com/cfzy/p/14750004.html">https://www.cnblogs.com/cfzy/p/14750004.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Project </category>
          
          <category> 基于 Docker 构建 Prometheus + Grafana 监控集群系统 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Prometheus </tag>
            
            <tag> Grafana </tag>
            
            <tag> Docker </tag>
            
            <tag> Nginx </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
